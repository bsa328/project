<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">

	<insert id="setBoard" parameterType="com.example.project.model.BoardVO">
		INSERT INTO board SET
			board_num 		= #{boardNum},
			board_title 	= #{boardTitle},
			board_writer	= #{boardWriter},
			board_content 	= #{boardContent},
			board_regdate 	= now(),
			board_views 	= #{boardViews}
	</insert>
	
	<select id="getBoardList" resultType="com.example.project.model.BoardVO">
		SELECT 
			board_num AS boardNum,
			board_title AS boardTitle,
			board_writer AS boardWriter,
			board_content AS boardContent,
			board_regdate AS boardRegdate,
			board_views AS boardViews
		FROM board ORDER BY board_num DESC
	</select>
	
	<delete id="setBoardDelete" parameterType="int">
		DELETE FROM board WHERE board_num = #{boardNum}
	</delete>
	
	<select id="getBoardCount" resultType="int">
		SELECT COUNT(board_num) FROM board
	</select>
	
	<select id="getBoardOne" parameterType="int" resultType="com.example.project.model.BoardVO">
		SELECT 
			board_num AS boardNum,
			board_title AS boardTitle,
			board_writer AS boardWriter,
			board_content AS boardContent,
			board_regdate AS boardRegdate,
			board_views AS boardViews
		FROM board WHERE board_num = #{boardNum}
	</select>
	
	<update id="viewsUp">
		UPDATE board SET board_views = board_views + 1 WHERE board_num = #{boardNum}
	</update>
	
	<update id="setBoardModify">
		UPDATE board SET
			board_title 	= #{boardTitle},
			board_content 	= #{boardContent},
			board_regdate 	= now()
		WHERE board_num = #{boardNum}
	</update>
	
</mapper>